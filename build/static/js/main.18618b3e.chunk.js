(this.webpackJsonpbiydaalt=this.webpackJsonpbiydaalt||[]).push([[0],{15:function(e,t,a){e.exports={Signup:"style_Signup__2eSyf",container:"style_container__3oLzE",brandTitle:"style_brandTitle__NMe3Z",brandLogo:"style_brandLogo__fuk5S",error:"style_error__2TwgP",btn:"style_btn__lbXxI",Menu:"style_Menu__2zQ-I"}},16:function(e,t,a){e.exports={container:"style_container__1Aadx",error:"style_error__3jY7F",brandLogo:"style_brandLogo__1SkSR",brandTitle:"style_brandTitle__2KvEz",inputs:"style_inputs__26SuX"}},19:function(e,t,a){e.exports={history:"style_history__1bZ3j",date:"style_date__1KN50",title:"style_title__2gx8O",content:"style_content__HGFsu",Readbtn:"style_Readbtn__1hvMI"}},20:function(e,t,a){e.exports={container:"style_container__1eT2l",MoreHistory:"style_MoreHistory__1FN_D",date:"style_date__2KXEX",title:"style_title__27id0",content:"style_content__1dkmY"}},23:function(e,t,a){e.exports={SideBar:"style_SideBar__2hPUk",example:"style_example__VjszD"}},24:function(e,t,a){e.exports={MainPage:"style_MainPage__3l6sT",yourStories:"style_yourStories__21VIP",btnCont:"style_btnCont__3D4yH",backImage:"style_backImage__2ZPDU"}},25:function(e,t,a){e.exports={Form:"style_Form__1Qqxr",saveBtn:"style_saveBtn__2DnJ-",text:"style_text__1KX5q"}},28:function(e,t,a){e.exports=a.p+"static/media/gray.b42e9f21.png"},30:function(e,t,a){e.exports={StartPage:"style_StartPage__32Vt5",StartPageLeft:"style_StartPageLeft__2bunS",Menu:"style_Menu__Dxm-6"}},44:function(e,t,a){e.exports={SideBar:"style_SideBar__nB2-u",example:"style_example__3iFnu"}},47:function(e,t,a){e.exports={Histories:"style_Histories__1NAuH"}},48:function(e,t,a){e.exports={MoreHist:"style_MoreHist__mN1UT"}},63:function(e,t,a){e.exports=a(94)},68:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(26),o=a.n(r),c=a(5),i=a(6),l=a(8),u=a(7),p=(a(68),a(30)),m=a.n(p),d=a(29),h=a(23),_=a.n(h),g=a(3),E=function(e){var t={background:e.color},a=[_.a.SideBar,_.a.false];return e.state&&(a=[_.a.SideBar,_.a.true]),s.a.createElement("div",{style:t,className:a.join(" ")},s.a.createElement("ul",null,s.a.createElement(g.b,{to:"/reg"},s.a.createElement("li",null,"REGISTER"))))},y=a(27),f=a(16),b=a.n(f),v=a(18),O=a.n(v),S=a(14),j=a(2),N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).changeEmail=function(e){n.setState({email:e.target.value})},n.changePassword=function(e){n.setState({password:e.target.value})},n.login=function(){var e={email:n.state.email,password:n.state.password,userId:"",returnSecureToken:!0};O.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyB3Zpu3mPVymr0Ef3qq9l_wza9xzXn9-XU",e).then((function(e){n.setState({userId:e.data.localId}),n.props.getIDaction(n.state.userId),n.props.history.replace("/mainpage")})).catch((function(e){n.setState({error:"\u041d\u044d\u0432\u0442\u0440\u044d\u043b\u0442 \u0430\u043c\u0436\u0438\u043b\u0442\u0433\u04af\u0439"})}))},n.state={email:"",password:"",error:""},n}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:b.a.container},s.a.createElement("div",{className:b.a.brandLogo}),s.a.createElement("div",{className:b.a.brandTitle},"LOGIN"),s.a.createElement("div",{className:b.a.inputs},s.a.createElement("label",null,"EMAIL"),s.a.createElement("input",{onChange:this.changeEmail,type:"email",placeholder:"example@test.com"}),s.a.createElement("label",null,"PASSWORD"),s.a.createElement("input",{onChange:this.changePassword,type:"password",placeholder:"Min 6 charaters long"}),this.state.error&&s.a.createElement("p",{className:b.a.error},this.state.error),s.a.createElement("button",{onClick:this.login},"LOGIN")),s.a.createElement(g.b,{to:"reg"},s.a.createElement("div",Object(y.a)({className:b.a.reg},"className",b.a.Button),"REGISTER")))}}]),a}(s.a.Component),I=Object(S.b)(null,(function(e){return{getIDaction:function(t){return e(function(e){return{type:"ID",id:e}}(t))}}}))(Object(j.withRouter)(N)),x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).setOpen=function(){n.setState({isOpen:!n.state.isOpen})},n.state={isOpen:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:m.a.StartPage},s.a.createElement("div",{className:m.a.Menu},s.a.createElement(d.a,{toggled:this.state.isOpen,toggle:this.setOpen})),this.state.isOpen&&s.a.createElement(E,{state:this.state.isOpen}),s.a.createElement("div",{className:m.a.StartPageLeft},s.a.createElement(I,null)))}}]),a}(s.a.Component),D=a(15),k=a.n(D),T=a(44),w=a.n(T),C=function(e){var t={background:e.color};return s.a.createElement("div",{style:t,className:"".concat(w.a.SideBar)},s.a.createElement("ul",null,s.a.createElement(g.b,{to:"/"},s.a.createElement("li",null,"LOGIN"))))},P=a(45),R=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password1:"",password2:"",error:"",isOpen:!1},e.setOpen=function(){e.setState({isOpen:!e.state.isOpen})},e.register=function(){if(e.state.password1===e.state.password2){var t={email:e.state.email,password:e.state.password1,returnSecureToken:!0};O.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyB3Zpu3mPVymr0Ef3qq9l_wza9xzXn9-XU",t).then((function(t){e.setState({error:"\u0411\u04af\u0440\u0442\u0433\u044d\u043b \u0430\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439"}),e.props.history.replace("/"),console.log(t)})).catch((function(){e.setState({error:"\u0411\u04af\u0440\u0442\u0433\u044d\u043b\u0442\u044d\u0439 \u0445\u044d\u0440\u044d\u0433\u043b\u044d\u0433\u0447 \u0431\u0430\u0439\u043d\u0430!!!"})}))}else e.setState({error:"\u041d\u0443\u0443\u0446 \u04af\u0433\u043d\u04af\u04af\u0434 \u0442\u0430\u0430\u0440\u0430\u0445\u0433\u04af\u0439 \u0431\u0430\u0439\u043d\u0430"})},e.changeEmail=function(t){e.setState({email:t.target.value})},e.pass1=function(t){e.setState({password1:t.target.value})},e.pass2=function(t){e.setState({password2:t.target.value})},e}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:k.a.container},s.a.createElement("div",{className:k.a.Menu},s.a.createElement(d.a,{toggled:this.state.isOpen,toggle:this.setOpen})),this.state.isOpen&&s.a.createElement(C,null),s.a.createElement("div",{className:k.a.Signup},s.a.createElement("div",{className:k.a.brandLogo}),s.a.createElement("div",{className:k.a.brandTitle},"REGISTER"),s.a.createElement("input",{onChange:this.changeEmail,type:"text",placeholder:"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"}),s.a.createElement("input",{onChange:this.pass1,type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}),s.a.createElement("input",{onChange:this.pass2,type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u0434\u0430\u0432\u0442\u0430\u043d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}),this.state.error&&s.a.createElement("p",{className:k.a.error},this.state.error),s.a.createElement("button",{className:k.a.btn,onClick:this.register},"REGISTER"),s.a.createElement(P.Link,{to:"/"},s.a.createElement("div",{className:k.a.lgn},"LOGIN"))))}}]),a}(n.Component),M=a(46),B=a.n(M),H=a(24),L=a.n(H),G=a(25),z=a.n(G),q=function(e){return s.a.createElement("form",{className:z.a.Form},s.a.createElement("input",{onChange:e.changeDate,type:"date"}),s.a.createElement("input",{onChange:e.changeTitle,type:"text",placeholder:"\u0413\u0430\u0440\u0447\u0438\u0433"}),s.a.createElement("textarea",{onChange:e.changeContent,type:"text",placeholder:"\u0411\u0438\u0447\u0438\u0445.."}),s.a.createElement("p",{className:z.a.text},e.text),s.a.createElement("div",{className:z.a.saveBtn},s.a.createElement("div",{className:z.a.btn,onClick:e.saveHistory},"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445")))},A=O.a.create({baseURL:"https://historysaver-mn-default-rtdb.firebaseio.com/"}),U=a(19),X=a.n(U),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getPostid=function(){n.props.GETpostID(n.props.hist.postID),n.props.history.push("/more")},n.state={},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:X.a.history},s.a.createElement("div",{className:X.a.date},this.props.hist.date),s.a.createElement("div",{className:X.a.title},this.props.hist.title.toUpperCase()),s.a.createElement("div",{className:X.a.content},this.props.hist.content),s.a.createElement("div",{onClick:function(){return e.getPostid()},className:X.a.Readbtn},"\u0418\u043b\u04af\u04af\u0433 \u0443\u043d\u0448\u0438\u0445"))}}]),a}(s.a.Component),V=Object(S.b)(null,(function(e){return{GETpostID:function(t){return e((a=t,console.log(a+"=>ACTION"),{type:"POST_ID",POST_ID:a}));var a}}}))(Object(j.withRouter)(F)),Z=a(47),K=a.n(Z),J=function(e){return s.a.createElement("div",{className:K.a.Histories},e.data.map((function(e){return s.a.createElement(V,{hist:e[1]})})))},Q=a(28),W=a.n(Q),Y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).changeTitle=function(e){n.setState({title:e.target.value})},n.changeDate=function(e){n.setState({date:e.target.value})},n.getPostID=function(){},n.saveHistory=function(){var e={date:n.state.date,title:n.state.title,content:n.state.content,postID:B()(),userID:n.props.id};e.userID||n.props.history.replace("/"),""===e.title&&n.setState({text:"\u0422\u0430 \u0433\u0430\u0440\u0447\u0438\u0433\u0430\u0430 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443!!!"}),""===e.content&&n.setState({text:"\u0422\u0430 \u0442\u044d\u043c\u0434\u044d\u0433\u043b\u044d\u043b\u044d\u044d \u0431\u0438\u0447\u043d\u044d \u04af\u04af!!!"}),""===e.date&&n.setState({text:"\u0422\u0430 \u043e\u043d \u0441\u0430\u0440\u0430\u0430 \u04e9\u0434\u0440\u04e9\u04e9 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443!!!"}),""!==e.title&&""!==e.content&&""!==e.date&&A.post("/histories.json",e).then((function(){n.setState({text:""}),n.setState({content:""}),n.setState({title:""}),n.setState({date:""})})),A.get('histories.json?orderBy="userID"&equalTo="'.concat(n.props.id,'"')).then((function(e){n.setState({histories:Object.entries(e.data).reverse()})}))},n.changeContent=function(e){n.setState({content:e.target.value})},n.toggleHist=function(){n.setState({open:!n.state.open})},n.state={title:"",content:"",date:"",histories:[],text:"",success:"",open:!0,postID:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return A.get('histories.json?orderBy="userID"&equalTo="'.concat(this.props.id,'"')).then((function(t){e.setState({histories:Object.entries(t.data).reverse()})})).catch((function(){A.post("/histories.json",{content:"",title:""})})),s.a.createElement("div",{className:L.a.MainPage},s.a.createElement("img",{className:L.a.backImage,src:W.a}),!this.props.id&&this.props.history.replace("/"),s.a.createElement("div",null,s.a.createElement("p",{className:L.a.yourStories},"\u0422\u0410\u041d\u042b \u0422\u04ae\u04ae\u0425\u04ae\u04ae\u0414"),0!==this.state.histories.length&&s.a.createElement(J,{data:this.state.histories}),s.a.createElement("div",{className:L.a.btnCont},s.a.createElement(g.b,{to:"/mainpage".concat(this.state.open?"/hist":"")},s.a.createElement("button",{onClick:this.toggleHist},"\u0422\u04af\u04af\u0445 \u043d\u044d\u043c\u044d\u0445"))),s.a.createElement(j.Route,{path:"/mainpage/hist"},s.a.createElement(q,{changeTitle:this.changeTitle,changeContent:this.changeContent,saveHistory:this.saveHistory,changeDate:this.changeDate,text:this.state.text}))),s.a.createElement(g.b,{to:"/"},s.a.createElement("i",{className:"fas fa-power-off"})))}}]),a}(s.a.Component),$=Object(S.b)((function(e){return{id:e.id}}))(Y),ee=a(48),te=a.n(ee),ae=a(20),ne=a.n(ae),se=function(e){return console.log(e.data),s.a.createElement("div",{className:ne.a.container},s.a.createElement(g.b,{to:"/mainpage"},s.a.createElement("i",{class:"fas fa-arrow-left"})),s.a.createElement("div",{className:ne.a.MoreHistory},s.a.createElement("div",{className:ne.a.date},e.data.date),s.a.createElement("div",{className:ne.a.title},e.data.title),s.a.createElement("div",{className:ne.a.content},e.data.content)))},re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={selected:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;A.get('histories.json?orderBy="postID"&equalTo="'.concat(this.props.postID,'"')).then((function(t){e.setState({selected:Object.entries(t.data)})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:te.a.MoreHist},s.a.createElement("img",{src:W.a}),void 0!==this.state.selected[0]&&s.a.createElement(se,{data:this.state.selected[0][1]}))}}]),a}(s.a.Component),oe=Object(S.b)((function(e){return{postID:e.postID}}))(re),ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(j.Switch,null,s.a.createElement(j.Route,{path:"/",exact:!0,component:x}),s.a.createElement(j.Route,{path:"/more",component:oe}),s.a.createElement(j.Route,{path:"/reg",component:R}),s.a.createElement(j.Route,{path:"/mainpage",component:$})))}}]),a}(s.a.Component),ie=a(49),le=a(11),ue={id:"",postID:""},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;return"ID"===t.type?Object(le.a)(Object(le.a)({},e),{},{id:t.id}):"POST_ID"===t.type?(console.log(t.POST_ID+"=>REDUCER"),Object(le.a)(Object(le.a)({},e),{},{postID:t.POST_ID})):e},me=Object(ie.a)(pe);o.a.render(s.a.createElement(S.a,{store:me},s.a.createElement(g.a,null,s.a.createElement(ce,null))),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.18618b3e.chunk.js.map